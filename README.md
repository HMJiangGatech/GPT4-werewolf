# GPT4-werewolf
GPT4 One night ultimate werewolf GPT4一夜狼人

## Parameters

You can tune `TOTAL_ROUNDS`, `char_prompt` of bots, or the message from game master `player.recieve_message(f'上帝', f'请{player.player_name}发言。记住你晚上的信息是"{player.night_action}"。根据别人的信息，如果你觉得你是狼人，请想办法归票到别人身上。如果你觉得你不是狼人，请想办法归票到狼人身上。')` to make the game more interesting.

Set `INCLUDE_PEOPLE` to `True` to play with AI by yourself.
Set `INCLUDE_PEOPLE` to `False` to let AI simulate the game.

## A 2-round Play Example

```
游戏开始，玩家数量：5，角色：['狼人', '捣蛋鬼', '酒鬼', '失眠者', '强盗', '预言家', '狼人', '爪牙']
Alice的初始身份是狼人。
Bob的初始身份是捣蛋鬼。
Charlie的初始身份是酒鬼。
David的初始身份是失眠者。
Eve的初始身份是强盗。
========================
Alice的初始身份是狼人，夜晚他得到的信息是"狼人请睁眼，你是唯一的狼人. 请查看中央区域的一张牌，可以从左中右中选择一张. 你查看了中央区域的第 3 张牌 （右）. 你看到的是 爪牙."。
Eve的初始身份是强盗，夜晚他得到的信息是"强盗请睁眼，你没有交换身份牌."。
Bob的初始身份是捣蛋鬼，夜晚他得到的信息是"捣蛋鬼请睁眼，你交换了 Eve 和 David 的身份牌."。
Charlie的初始身份是酒鬼，夜晚他得到的信息是"酒鬼请睁眼，你交换了自己的身份牌和中央区域的第 2 张牌 （中）. "。
David的初始身份是失眠者，夜晚他得到的信息是"强盗请睁眼，你没有交换身份牌."。
夜晚结束
Alice的初始身份是狼人，现在的身份是狼人。
Bob的初始身份是捣蛋鬼，现在的身份是捣蛋鬼。
Charlie的初始身份是酒鬼，现在的身份是狼人。
David的初始身份是失眠者，现在的身份是强盗。
Eve的初始身份是强盗，现在的身份是失眠者。
========================
上帝：天亮了，所有人睁眼！请大家开始讨论。讨论时间为2轮。
Alice：好吧，我觉得大家应该相互交流一下自己的身份和晚上的行动。我是预言家，昨晚我查看了中央区域的两张牌，分别是第1张（左）和第2张（中），我看到的是酒鬼和捣蛋鬼。这意味着右边的牌可能是爪牙。现在大家可以分享一下自己的信息，看看能否发现线索。
Bob：好的，我是捣蛋鬼。昨晚我交换了Eve和David的身份牌。Eve和David，请分享一下你们原来的身份，这样我们可以更好地分析状况。
Charlie：我是酒鬼，昨晚我交换了自己的身份牌和中央区域的第2张牌（中）。根据Alice说的，原先那一张是捣蛋鬼。现在我知道我的身份变成了捣蛋鬼。所以Bob刚才说他是捣蛋鬼的可能性不大，恐怕他是在掩饰自己的真实身份。Eve和David，请告诉我们你们的身份，以便我们更好地分析局势。
David：好的，我原本是强盗，但昨晚我并没有交换身份牌。然后Bob说他交换了我和Eve的身份牌，所以现在我的身份应该是Eve之前的身份。Eve，请告诉我们你昨晚的身份，这样我们可以更好地了解目前的局势。
Eve：昨晚，我原本的身份是失眠者。然后听Bob说他交换了我和David的身份牌，所以我的身份现在应该是强盗。那么David现在应该是失眠者。关于狼人的线索，我们还需要更多的信息。其他人可以接着分享自己的身份和经历。
Alice：听了大家的发言，我觉得有一些疑点。首先，Bob说他是捣蛋鬼，但Charlie说他现在是捣蛋鬼，这里有一个矛盾。然后，根据Eve和David的陈述，他们的身份分别是强盗和失眠者，这意味着我们中间只剩下预言家和酒鬼的身份未知。我之前说我是预言家，这样看来，我们可以怀疑Bob可能是狼人，试图隐瞒自己的身份。我们可以对这个疑点展开更多的讨论。
Bob：我明白大家现在的疑虑，但是让我再说明一遍，我确实是捣蛋鬼，昨晚我确实交换了Eve和David的身份牌。我觉得问题可能出在Charlie身上，他说自己是酒鬼并交换了中央的捣蛋鬼身份牌，然而我实际上才是捣蛋鬼。我们需要更加关注Charlie在此过程中的角色，因为他可能在隐瞒自己的真实身份。请大家就这个讨论展开，也许我们可以发现新的线索。
Charlie：我明白大家对我的质疑，但我要再强调一遍，我是酒鬼，晚上我确实交换了自己的身份牌和中央区域的第2张牌（中）。而且根据Alice的说法，中央区域的牌原本就是捣蛋鬼。正如我之前所说，我现在的身份变为了捣蛋鬼。所以我认为Bob可能在试图掩饰自己的真实身份，它有可能就是狼人。我们需要更仔细地讨论这个问题，结合大家的信息来找出狼人。
David：我仔细听了大家的讨论，目前我觉得最大的矛盾点在于Bob和Charlie这里。Bob说他是捣蛋鬼，而Charlie说他是酒鬼，然后变成了捣蛋鬼。我们需要权衡一下他们的话，找出真正的狼人。我觉得我们可以多关注一下Charlie，因为他的说辞中存在潜在的风险，他可能在试图掩盖自己的真实身份。我们需要更多的信息和讨论来确定狼人的身份，尽快找到他。
Eve：经过大家的讨论，我同意David的看法，目前最大的矛盾点确实在于Bob和Charlie之间。我确实是失眠者，在晚上不知道自己的身份是否被交换了。不过，现在我已经知道自己变成了强盗。而根据Alice的说法，中央区域的捣蛋鬼已经被Charlie拿走了，所以我认为Bob的话有些问题，他很可能在掩饰自己的真实身份。我们需要更多关注这个疑点，综合考虑所有的信息来找出狼人。大家可以继续讨论这个问题。
上帝 请投票。请输出你要投票的玩家名字（Alice,Bob,Charlie,David,Eve）或者输出"弃票"。
Alice：Bob
Bob：Charlie
Charlie：Bob
David：Bob
Eve：Bob
上帝：投票结果为{'Alice': 0, 'Bob': 4, 'Charlie': 1, 'David': 0, 'Eve': 0}
上帝：Bob被投票出局。他的身份是捣蛋鬼。
上帝：狼人阵营胜利。
```

## A 3-round game

```
游戏开始，玩家数量：5，角色：['酒鬼', '狼人', '捣蛋鬼', '狼人', '预言家', '爪牙', '强盗', '失眠者']
Alice的初始身份是酒鬼。
Bob的初始身份是狼人。
Charlie的初始身份是捣蛋鬼。
David的初始身份是狼人。
Eve的初始身份是预言家。
========================
Bob的初始身份是狼人，夜晚他得到的信息是"狼人请睁眼，你的同伴是 David."。
David的初始身份是狼人，夜晚他得到的信息是"狼人请睁眼，你的同伴是 Bob."。
Eve的初始身份是预言家，夜晚他得到的信息是"预言家请睁眼，你查看了中央区域的第 3 张牌 （右）和第 2 张牌 （中）. 你看到的是 右 是 失眠者, 中 是 强盗."。
Charlie的初始身份是捣蛋鬼，夜晚他得到的信息是"捣蛋鬼请睁眼，你交换了 Eve 和 Bob 的身份牌."。
Alice的初始身份是酒鬼，夜晚他得到的信息是"酒鬼请睁眼，你交换了自己的身份牌和中央区域的第 3 张牌 （右）. "。
夜晚结束
Alice的初始身份是酒鬼，现在的身份是失眠者。
Bob的初始身份是狼人，现在的身份是预言家。
Charlie的初始身份是捣蛋鬼，现在的身份是捣蛋鬼。
David的初始身份是狼人，现在的身份是狼人。
Eve的初始身份是预言家，现在的身份是狼人。
========================
上帝：天亮了，所有人睁眼！请大家开始讨论。讨论时间为3轮。
Alice：大家早上好！我想告诉大家，晚上我扮演了强盗，我交换了与一名玩家的身份牌并查看了新的身份牌。不知道大家晚上有没有什么特殊信息可以分享的？
Bob：早上好，Alice！和你说个有趣的事，我晚上是酒鬼，我已经把身份牌换了。为了避免被人针对，就不透露具体换哪张了。我们可以相互提供一下信息，看看能否找到狼人的踪迹。大家谁有信息请积极分享！
Charlie：好的，那我也分享一下我的信息。我晚上是捣蛋鬼，我交换了 Eve 和 Bob 的身份牌。所以现在 Bob 具有 Eve 之前的身份，而 Eve 则具有 Bob 之前的身份。根据我们现在手里的信息，有可能 Eve 成为了酒鬼。当然这只是我个人猜测，还需要大家来一起分析。大家觉得呢？
David：早上好，大家。我晚上是预言家，我查看了 Alice 的身份牌，她确实是强盗。既然如此，我怀疑 Eve 是狼人，因为她还没有提供任何信息。而且 Charlie 说他交换了 Eve 和 Bob 的身份牌，这让我更加怀疑。如果我们没有更多的信息，那我建议我们优先怀疑 Eve，并在投票环节投她。大家觉得怎么样呢？
Eve：早上好，大家。我想说明一下，我刚刚没有及时发言是因为我在思考刚刚大家所提供的信息。实际上，我是预言家。我晚上查看了中央区域的第 3 张牌（右）和第 2 张牌（中）。我看到的是右边是失眠者，中间是强盗。所以我们可以尝试从这些信息中找到狼人的踪迹。虽然 Charlie 说他交换了我和 Bob 的身份牌，但我并不是狼人。所以我认为我们可能需要考虑从其他方向来找寻狼人。大家还有什么其他信息可以提供吗？
Alice：谢谢大家分享信息。Eve 说她查看了中央区域的第 3 张牌（右）和第 2 张牌（中），看到的是失眠者和强盗。这就有些奇怪了，因为我之前说我是强盗，而且 David 也证实了我的身份。既然失眠者和强盗都在中央区域，那意味着我们可能有狼人在座。根据目前的信息，我们不能排除 Eve 是狼人的可能性，但也需要考虑其他玩家的情况。请大家继续提供更多信息，我们一起找出狼人吧！
Bob：大家的信息我都仔细听了，我觉得我们应该关注一下 David。虽然他证实了 Alice 的身份，但 Alice 身份牌在中央区域也存在强盗的情况下，David 提供的信息还有待验证。另外，Eve 作为预言家并没有查看具体玩家的身份，这让我感到有些疑惑。所以我建议我们可以集中关注一下 David 和 Eve，看看他们的信息是否一致，找出狼人的真实身份。大家怎么看？
Charlie：我同意 Bob 的观点。我们应该关注一下 David 和 Eve 的信息，找出矛盾点。然而，Eve 作为预言家只查看了中央区域的身份牌而没有查看玩家身份牌确实有些奇怪，这使得信息相对不够有力。

总结一下，现在我们的情况是：我作为捣蛋鬼交换了 Eve 和 Bob 的身份牌，Eve 声称自己是预言家，查看了中央区域的两张牌，分别是失眠者和强盗，而 Alice 同样声称自己是强盗。David 则称自己是预言家，证实了 Alice 是强盗。

现在我们需要更多的信息，才能更好地找出狼人的真实身份。请大家在讨论过程中注意发现矛盾点，帮助我们找到狼人！
David：我理解大家的担忧，但我可以确信地说我的信息是准确的。作为预言家，我查看了 Alice 的身份牌，她确实是强盗。我注意到大家对于 Eve 只查看中央区域的牌的行为有所质疑。我认为这的确有些奇怪，如果 Eve 真是预言家，她应该会查看其他玩家的身份牌以获得更有用的信息。

我建议大家首先关注 Eve。她所提供的信息与 Alice 的信息存在矛盾，而大家都信任 Alice 的身份。所以我们有理由怀疑 Eve 是狼人。当然，这只是我的建议，我们仍需要根据新的信息来判断。大家一起努力，找出狼人！
Eve：我理解大家对我的质疑，但我确实是预言家。当时我选择查看中央区域的牌是出于策略考虑，以便收集更多信息来帮助识别狼人。尽管如此，我承认这可能不是最佳选择。

在听取了大家的意见后，我同意我们应该关注 David。虽然他证实了 Alice 的身份，但我们不能完全排除他是狼人的可能性。毕竟，Alice 的身份牌在中央区域也有强盗，我们需要进一步的信息来确认他们的真实身份。

在此基础上，我们应该务实地面对现有信息，合理怀疑并在投票时考虑每个人的发言。我们要一起努力揭示谎言，揪出狼人！大家有没有其他线索或观察可分享的？
Alice：谢谢大家分享的观点。总结一下目前的情况，我们的矛盾主要集中在 Eve 和 David，两个都称自己是预言家。然而，我的真实身份是酒鬼，我在夜晚交换了自己的身份牌和中央区域的第 3 张牌（右），我相信还有其他玩家没有透露他们晚上的身份和行动。

为了找出狼人，我提议大家在剩下的讨论时间里尽可能分享新的观察和线索。在投票时，我们应该分析所有信息，并根据矛盾点和我们的理解来进行投票。大家一起加油，揪出狼人！
Bob：大家的发言我都认真听了，现在我们面临的局面确实比较复杂。根据大家的信息，目前关注的焦点是 Eve 和 David。我建议我们在投票环节时，根据之前的讨论及自己的观察，仔细分析并投出自己认为有可能是狼人的人。

我注意到有些玩家没有透露他们的身份和晚上的行动，这给我们找到狼人带来了一定的困难。希望大家能够继续提供有价值的线索和观察，让我们一起努力揭示谎言，找出狼人吧！
Charlie：综合大家的发言，目前我们面临的主要矛盾是关于 Eve 和 David 的身份。作为捣蛋鬼，我在夜晚交换了 Eve 和 Bob 的身份牌。我们不能排除 Eve 变成了酒鬼，但同样也不能排除她是狼人的可能性。

在投票环节，我们需要根据现有的信息和大家的发言来判断谁更有可能是狼人。我们要特别关注那些没有透露晚上身份和行动的玩家。希望大家能够继续提供有价值的线索和观察，助我们找出狼人。让我们一起努力，揪出狼人吧！
David：我同意大家的意见，我们需要仔细分析目前的矛盾，才能找出狼人。事实上，我在晚上并没有查看 Alice 的身份牌，而是查看了中央区域的身份牌，发现那里有一个强盗。我承认我之前为了自保而撒了谎。但现在我觉得我们应该诚实面对，所以我纠正了自己的陈述。

虽然我的行为可能让大家觉得我是狼人，但我可以确保我不是。关于 Eve，她提供的信息与 Alice 的信息存在矛盾，因此我认为我们还是应该关注她。在投票环节，我们需要结合大家的发言来判断谁可能是狼人。希望大家能分享更多的线索，让我们一起找出狼人！我们加油！
Eve：我感谢大家提供的信息和观点。关于我的身份，我已经如实陈述了我在晚上查看了中央区域的两张牌，并获得了失眠者和强盗的信息。我明白这与 Alice 所说的存在矛盾，但我确实是预言家。

我觉得我们在投票时应该从更广泛的角度去分析，在所有玩家中找出狼人的可能性。对于一直质疑我的 David，我认为大家也需要关注他，思考是否要投票给他。

最后，希望大家能提供更多的线索，帮助我们找到狼人。我们一起努力，揪出狼人吧！
========================
上帝：请投票。请输出你要投票的玩家名字（Alice,Bob,Charlie,David,Eve）或者输出"弃票"。
Alice：David
Bob：Eve
Charlie：Eve
David：Eve
Eve：David
上帝：投票结果为{'Alice': 0, 'Bob': 0, 'Charlie': 0, 'David': 2, 'Eve': 3}
上帝：Eve被投票出局。他的身份是狼人。
上帝：好人阵营胜利。
```